require 'telegram/bot'
require 'thread'

API = "7254953350:AAF_v3NCYfxwsmeoG7JegqSvvwX2iMtjgg4"

# –ö—ç—à–∏—Ä—É–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö –∫–∞–∂–¥—ã–π —Ä–∞–∑
MAIN_KEYBOARD = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
  keyboard: [
    [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—åüí∞')],
    [Telegram::Bot::Types::KeyboardButton.new(text: '–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏üí¨')],
    [Telegram::Bot::Types::KeyboardButton.new(text: '–û—Ç–∑—ã–≤—ãüí≠')],
    [Telegram::Bot::Types::KeyboardButton.new(text: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—éüìñ')]
  ],
  resize_keyboard: true,
  one_time_keyboard: false
)

CONTACT_KEYBOARD = Telegram::Bot::Types::InlineKeyboardMarkup.new(
  inline_keyboard: [
    [Telegram::Bot::Types::InlineKeyboardButton.new(text: '–°–≤—è–∑–∞—Ç—å—Å—è', url: 'https://t.me/godblsdme')]
  ]
)

Telegram::Bot::Client.run(API, timeout: 60) do |bot|
# –ü–æ—Ç–æ–∫–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
def send_message_in_thread(bot, chat_id, text, reply_markup=nil)
  Thread.new do
    bot.api.send_message(chat_id: chat_id, text: text, reply_markup: reply_markup)
  end
end

Telegram::Bot::Client.run(API) do |bot|
  bot.listen do |message|
    if message.is_a?(Telegram::Bot::Types::Message) && message.text
      begin
        case message.text
        when '/start', '–ù–∞–∑–∞–¥'
          send_message_in_thread(bot, message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é:", MAIN_KEYBOARD)

        when '–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏üí¨'
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–∏—à–∏—Ç–µ —Å—é–¥–∞. –ù–∞—à–∞ —Å–ª—É–∂–±–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–¥–∞ –≤–∞–º –ø–æ–º–æ—á—å! :)", CONTACT_KEYBOARD)

        when '–ù–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—åüí∞'
          earn_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–î–µ–±–µ—Ç–æ–≤–∫–∏ —Å 14 –ª–µ—Çüë¶')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–î–µ–±–µ—Ç–æ–≤–∫–∏ —Å 18 –ª–µ—Çüë®‚Äçü¶±')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ö—Ä–µ–¥–∏—Ç–∫–∏ —Å 18 –ª–µ—Çüë®‚Äçü¶±')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )

          send_message_in_thread(bot, message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥—Ö–æ–¥—è—Ç –∏–º–µ–Ω–Ω–æ –¥–ª—è –≤–∞—Å:", earn_keyboard)

        when '–î–µ–±–µ—Ç–æ–≤–∫–∏ —Å 14 –ª–µ—Çüë¶'
          # –ö–Ω–æ–ø–∫–∏ –¥–ª—è –¥–µ–±–µ—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç
          card_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãüí≥')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          # –ú–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –¥–µ–±–µ—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç
          messages = [
            "https://trk.ppdu.ru/click/Lqv93Dty?erid=Kra23bfT9\n-–í–¢–ë - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ú–ò–†\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1140‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ ‚Äì –≤—ã–¥–∞—á–∞ + POS-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ –ª—é–±—É—é —Å—É–º–º—É\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/DfMG115b?erid=Kra246EPA\n-–ê–ª—å—Ñ–∞ - –ë–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –ê–ª—å—Ñ–∞-–∫–∞—Ä—Ç–∞ –ú–ò–†\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (666‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ ‚Äì –∫–∞—Ä—Ç–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—ã–ª–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∞ —Ä–∞—Å—Ö–æ–¥–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤–æ–π –∫–∞—Ä—Ç–µ (—Ç–æ–ª—å–∫–æ –ø–æ–∫—É–ø–∫–∞) –≤ —Ç–µ—á–µ–Ω–∏–µ 90 –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/J71BIGpi?erid=Kra23xCCG\n-–¢-–ë–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ Black –ú–ò–†\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (720‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º + –ü–æ–∫—É–ø–∫–∞ –¥–æ—Ä–æ–∂–µ 100 ‚ÇΩ –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/5u0sGgyG?erid=Kra23xqdM\n-–ú–¢–° –ë–∞–Ω–∫ | –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ | –°–∫–∏–¥–∫–∞ –≤–µ–∑–¥–µ\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (732‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞–Ω–Ω–∞—è/–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ + —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è* –Ω–∞ —Å—É–º–º—É –ø–æ–∫—É–ø–∫–∏ –Ω–µ –º–µ–Ω–µ–µ 500 —Ä—É–±–ª–µ–π –≤ —Ç–µ—á–µ–Ω–∏–µ 90 –¥–Ω–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/Z1Hbx04e?erid=2SDnjcUMV2g\n-–í–¢–ë - –ü–ª–∞—Ç–µ–∂–Ω—ã–π —Å—Ç–∏–∫–µ—Ä\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1140‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ü–ª–∞—Ç–µ–∂–Ω—ã–π —Å—Ç–∏–∫–µ—Ä ‚Äì –≤—ã–¥–∞—á–∞ + POS-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ –ª—é–±—É—é —Å—É–º–º—É\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme"
          ]
          # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–æ—Ç–æ–∫–∞—Ö
          messages.each do |msg|
            send_message_in_thread(bot, message.chat.id, msg, card_keyboard)
          end
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∏—Ö 5 –∫–∞—Ä—Ç –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (4398‚ÇΩ)", card_keyboard)

        when '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãüí≥'
          card_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          messages = [
            "https://trk.ppdu.ru/click/hpoWuk2f?erid=Kra23c3Xe\n-–¢-–ë–∞–Ω–∫ ‚Äî ALL Games Debit\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (700‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º + –ü–æ–∫—É–ø–∫–∞ –¥–æ—Ä–æ–∂–µ 100 ‚ÇΩ –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/ZJaBDcw1?erid=Kra23VKkC\n-–¢-–ë–∞–Ω–∫ ‚Äî Black / –ú–æ–ª–æ–¥–µ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (600‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º + –ü–æ–∫—É–ø–∫–∞ –¥–æ—Ä–æ–∂–µ 100 ‚ÇΩ –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/1p58Wz3y?erid=2SDnjexEfPQ\n-–°–±–µ—Ä–±–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –°–±–µ—Ä–ö–∞—Ä—Ç–∞ –¥–ª—è –º–æ–ª–æ–¥–µ–∂–∏\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (185‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/jCNMBwXV?erid=2SDnjcz3wHC\n-–°–±–µ—Ä–±–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –°–±–µ—Ä–ö–∞—Ä—Ç–∞\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (340‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/R6reW2MH?erid=2SDnjcxTaXt\n-–ú–¢–° –î–µ–Ω—å–≥–∏ | –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (771‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ –ø–ª–∞—Å—Ç–∏–∫–æ–≤–æ–π –∫–∞—Ä—Ç–µ (—Ç–æ–ª—å–∫–æ –ø–æ–∫—É–ø–∫–∞), –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω–µ—Å–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ —Å—á–µ—Ç / –¥–µ–Ω–µ–∂–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥. –û—Ç 500 —Ä—É–±–ª–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme"
          ]
          messages.each do |msg|
            send_message_in_thread(bot, message.chat.id, msg, card_keyboard)
          end
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∏—Ö 5 –∫–∞—Ä—Ç –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (2596‚ÇΩ)", card_keyboard)

        when '–î–µ–±–µ—Ç–æ–≤–∫–∏ —Å 18 –ª–µ—Çüë®‚Äçü¶±'
          earn_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãüí∞')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          messages = [
            "https://trk.ppdu.ru/click/O4g2tGat?erid=2SDnjecqKHA\n-–°–æ–≤–∫–æ–º–±–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ c –∫—ç—à–±—ç–∫–æ–º\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (400‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/KNfNefOU?erid=2SDnjefkGWU\n-–°–æ–≤–∫–æ–º–±–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º –Ω–∞ –æ—Å—Ç–∞—Ç–æ–∫\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (400‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/sjY1dvZ1?erid=Kra23sQWK\n-–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ú–ò–†\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1233‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ù–∞ –≤—Å—Ç—Ä–µ—á–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º –¥–æ–≥–æ–≤–æ—Ä, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/QSvLQBbl?erid=Kra23nkSR\n-–§–û–†–ê-–ë–ê–ù–ö ‚Äì –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º –∫–µ—à–±—ç–∫–æ–º –ú–ò–† ¬´–í—Å–µ –≤–∫–ª—é—á–µ–Ω–æ¬ª\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (600‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞+–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç 300 —Ä—É–±. –≤ —Ç–µ—á–µ–Ω–∏–µ 60 –¥–Ω–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/lPq10ChL?erid=2SDnjduAK6q\n-–ê–∫ –ë–∞—Ä—Å –ë–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ú–ò–†\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (833‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è* (–ª—é–±–∞—è –ø–æ–∫—É–ø–∫–∞ –Ω–∞ —Å—É–º–º—É –Ω–µ –º–µ–Ω–µ–µ 500 —Ä—É–±–ª–µ–π) –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme"
          ]
          messages.each do |msg|
            send_message_in_thread(bot, message.chat.id, msg, earn_keyboard)
          end
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∏—Ö 5 –∫–∞—Ä—Ç –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (3466‚ÇΩ)", earn_keyboard)

        when '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãüí∞'
          keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          send_message_in_thread(bot, message.chat.id, "https://trk.ppdu.ru/click/Kpl3sfRW?erid=2SDnjer9FRj\n-–ê–∫ –ë–∞—Ä—Å –ë–∞–Ω–∫ - –î–µ–±–µ—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ - –ö–∞—Ä—Ç–∞ –∂–∏—Ç–µ–ª—è –†–µ—Å–ø—É–±–ª–∏–∫–∏ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (833‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –Ω–æ–≤—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è* (–ª—é–±–∞—è –ø–æ–∫—É–ø–∫–∞ –Ω–∞ —Å—É–º–º—É –Ω–µ –º–µ–Ω–µ–µ 500 —Ä—É–±–ª–µ–π) –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme", keyboard)
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–æ–π 1 –∫–∞—Ä—Ç—ã –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (833‚ÇΩ)", keyboard)

        when '–ö—Ä–µ–¥–∏—Ç–∫–∏ —Å 18 –ª–µ—Çüë®‚Äçü¶±'
          credit_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãü•∞')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          messages = [
            "https://trk.ppdu.ru/click/UcgvJ9b3?erid=2SDnjdG5aQR\n-–°–±–µ—Ä–ë–∞–Ω–∫ - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –°–±–µ—Ä–ö–∞—Ä—Ç–∞\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2400‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –≤—ã–¥–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ –ª—é–±—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º. (–ù–æ –µ—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ —É–∂–µ –µ—Å—Ç—å –∫–∞—Ä—Ç–∞, —Ç–æ –æ–Ω –≤—Ç–æ—Ä—É—é –Ω–µ –ø–æ–ª—É—á–∏—Ç. –ê –µ—Å–ª–∏ —É –∫–ª–∏–µ–Ω—Ç–∞ –±—ã–ª–∞ –∫–∞—Ä—Ç–∞, –æ–Ω –µ–µ –∑–∞–∫—Ä—ã–ª, –∏ –ø–æ–ª—É—á–∏–ª –ø–æ—Ç–æ–º –Ω–æ–≤—É—é –ø–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ, —Ç–æ —Ç–∞–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è –∑–∞—Å—á–∏—Ç–∞–µ—Ç—Å—è)\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/clYRZvYW?erid=Kra23fR6c\n-–í–¢–ë - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1710‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ ‚Äì –≤—ã–¥–∞—á–∞ + POS-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞ –ª—é–±—É—é —Å—É–º–º—É\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/LDmOWmtQ?erid=2SDnjdSG9a1\n-–¢-–ë–∞–Ω–∫ ‚Äî –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ –ü–ª–∞—Ç–∏–Ω—É–º// –ö–µ—à–±—ç–∫ 2 000 —Ä—É–±–ª–µ–π\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1500‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ –Ω–µ–π –ø–æ—Å–ª–µ –≤—Å—Ç—Ä–µ—á–∏ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/yyKnKy8z?erid=2SDnjd2Xg6d\n-–¢-–ë–∞–Ω–∫ - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ –ü–ª–∞—Ç–∏–Ω—É–º\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2160‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–æ –Ω–µ–π –ø–æ—Å–ª–µ –≤—Å—Ç—Ä–µ—á–∏ —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/WnLSVOtf?erid=Kra23WNrz\n-–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫ - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ –¥–æ 180 –¥–Ω–µ–π –±–µ–∑ % UnionPay\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (3200‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞+–ê–∫—Ç–∏–≤–∞—Ü–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme"
          ]
          messages.each do |msg|
            send_message_in_thread(bot, message.chat.id, msg, credit_keyboard)
          end
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∏—Ö 5 –∫–∞—Ä—Ç –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (10970‚ÇΩ)", credit_keyboard)

        when '–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ –∫–∞—Ä—Ç—ãü•∞'
          keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          messages = [
            "https://trk.ppdu.ru/click/5IegjHs1?erid=2SDnjeTpMvR\n-–£—Ä–∞–ª—Å–∏–± - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ 120 –¥–Ω–µ–π –±–µ–∑ %\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1850‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/UtL0IM1D?erid=2SDnjeEaYCG\n-–°–≤–æ–π –±–∞–Ω–∫ - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ö–∞—Ä—Ç–∞ 120 –¥–Ω–µ–π\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2800‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞+–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/wEKQgJio?erid=2SDnje5iw3n\n-–£—Ä–∞–ª—Å–∏–± - –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –∫–µ—à–±—ç–∫–æ–º\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (1700‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π 500 —Ä—É–±–ª–µ–π –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –≤—ã–¥–∞—á–∏\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/CB0RcUun?erid=Kra245GDH\n-–ö—Ä–µ–¥–∏—Ç –ï–≤—Ä–æ–ø–∞ –ë–∞–Ω–∫ (–†–æ—Å—Å–∏—è) - –ö–ö CARD CREDIT PLUS\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2130‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞+–ê–∫—Ç–∏–≤–∞—Ü–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/yYTi2vUZ?erid=Kra23qXrM\n-–ö—Ä–µ–¥–∏—Ç –ï–≤—Ä–æ–ø–∞ –ë–∞–Ω–∫ (–†–æ—Å—Å–∏—è) - –ö–∞—Ä—Ç–∞ —Ä–∞—Å—Å—Ä–æ—á–∫–∞ CARD CREDIT\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2130‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞+–ê–∫—Ç–∏–≤–∞—Ü–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme",
            "https://trk.ppdu.ru/click/frlY11sO?erid=Kra23yZUw\n-–ö—Ä–µ–¥–∏—Ç –ï–≤—Ä–æ–ø–∞ –ë–∞–Ω–∫ (–†–æ—Å—Å–∏—è) - –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ Urban\n-–í–´ –ó–ê–†–ê–ë–û–¢–ê–ô–¢–ï: (2130‚ÇΩ)\n-–¶–µ–ª–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: –í—ã–¥–∞—á–∞+–ê–∫—Ç–∏–≤–∞—Ü–∏—è\n-–°–í–Ø–ó–ê–¢–¨–°–Ø: @godblsdme"
          ]
          messages.each do |msg|
            send_message_in_thread(bot, message.chat.id, msg, keyboard)
          end
          sleep(0.5)
          send_message_in_thread(bot, message.chat.id, "–í —Å–ª—É—á–∞–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–∏—Ö 6 –∫–∞—Ä—Ç –≤–∞—à –∑–∞—Ä–∞–±–æ—Ç–æ–∫ —Å–æ—Å—Ç–∞–≤–∏—Ç (12740‚ÇΩ)", keyboard)

        when '–û—Ç–∑—ã–≤—ãüí≠'
          review_keyboard = Telegram::Bot::Types::ReplyKeyboardMarkup.new(
            keyboard: [
              [Telegram::Bot::Types::KeyboardButton.new(text: '–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤üî§üí≠')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–°–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∑—ã–≤—ãüëÄüí≠')],
              [Telegram::Bot::Types::KeyboardButton.new(text: '–ù–∞–∑–∞–¥')]
            ],
            resize_keyboard: true,
            one_time_keyboard: false
          )
          send_message_in_thread(bot, message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é:", review_keyboard)

        when '–°–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∑—ã–≤—ãüëÄüí≠'
          kb = [
            Telegram::Bot::Types::InlineKeyboardButton.new(text: '–°–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∑—ã–≤—ãüëÄüí≠', url: 'https://t.me/smgreferals')
          ]
          markup = Telegram::Bot::Types::InlineKeyboardMarkup.new(inline_keyboard: [kb])
          send_message_in_thread(bot, message.chat.id, "–û—Ç–∑—ã–≤—ã –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤—ã–ø–ª–∞—Ç –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—É—Ç:", markup)

        when '–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤üî§üí≠'
          kb = [
            Telegram::Bot::Types::InlineKeyboardButton.new(text: '–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤üî§üí≠', url: 'https://t.me/godblsdme')
          ]
          markup = Telegram::Bot::Types::InlineKeyboardMarkup.new(inline_keyboard: [kb])
          send_message_in_thread(bot, message.chat.id, "–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –º–æ–∂–Ω–æ –∑–¥–µ—Å—å, –ø–æ–∑–∂–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –µ–≥–æ –æ–ø—É–±–ª–∏–∫—É–µ—Ç :)", markup)

        when '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—éüìñ'
          kb = [
            Telegram::Bot::Types::InlineKeyboardButton.new(text: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ñ–æ—Ä–º–ª–µ–Ω–∏—é –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ - (–¢-–ë–∞–Ω–∫)', url: 'https://vc.ru/u/3933941-smgreferals/1597130-zdravstvuite-eto-podrobnaya-instrukciya-dlya-zarabotka-vam-nuzhno-budet-sdelat-neskolko-prostyh-deistviiinstrukciya-nizhe')
          ]
          markup = Telegram::Bot::Types::InlineKeyboardMarkup.new(inline_keyboard: [kb])

          send_message_in_thread(bot, message.chat.id, "–ï—Å–ª–∏ –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —É –≤–∞—Å –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã, –º–æ–∂–µ—Ç–µ —Å–º–µ–ª–æ –ø–∏—Å–∞—Ç—å –Ω–∞–º :)", markup)

        else
          send_message_in_thread(bot, message.chat.id, "–Ø –≤–∞—Å –Ω–µ –ø–æ–Ω—è–ª")
        end

      rescue Telegram::Bot::Exceptions::ResponseError => e
        if e.message.include?('403')
          puts "Bot was blocked by the user. Skipping..." if rand < 0.1
        else
          puts "An error occurred: #{e.message}"
        end
      end
    else
      puts "Received a non-message update or a message without text" if rand < 0.1
    end

    def send_message_in_thread(bot, chat_id, text, reply_markup=nil)
      Thread.new do
        attempts = 0
        begin
          bot.api.send_message(chat_id: chat_id, text: text, reply_markup: reply_markup)
        rescue Faraday::ConnectionFailed, Net::OpenTimeout => e
          attempts += 1
          if attempts < 3
            puts "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ #{attempts}..."
            sleep(5) # –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
            retry
          else
            puts "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫: #{e.message}"
          end
        end
      end
    end

  end
end
end
